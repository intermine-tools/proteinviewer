<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for lib/TrackFactory.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">lib/TrackFactory.js</span></h1>
    <h2>
        Statements: <span class="metric">39.13% <small>(18 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">12.5% <small>(1 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">39.13% <small>(18 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">lib/</a> &#187; TrackFactory.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span></td><td class="text"><pre class="prettyprint lang-js">/*jslint node: true */
/*jshint laxbreak: true */
"use strict";
&nbsp;
var d3 = require("d3");
var _ = require("underscore");
var FeatureFactory = require("./FeatureFactory");
var NonOverlappingLayout = require("./NonOverlappingLayout");
var tooltipHandler = require("./TooltipFactory");
var BasicViewer = require("./BasicViewer");
var VariantViewer = require("./VariantViewer");
var VariantFilterDialog = require("./VariantFilterDialog");
var LegendFactory = require("./LegendFactory");
&nbsp;
var Track = <span class="fstat-no" title="function not covered" >function(typeFeatures, category) {</span>
<span class="cstat-no" title="statement not covered" >    var track = this;</span>
<span class="cstat-no" title="statement not covered" >    track.data = typeFeatures;</span>
<span class="cstat-no" title="statement not covered" >    track.type = typeFeatures[0].type.name;</span>
<span class="cstat-no" title="statement not covered" >    track.label = typeFeatures[0].type.label;</span>
<span class="cstat-no" title="statement not covered" >    track.category = category;</span>
<span class="cstat-no" title="statement not covered" >    track.id = track.type + '_track';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    track.titleContainer = category.tracksContainer.append('div').style('display', 'inline-block');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    track.trackContainer = category.tracksContainer.append('div')</span>
        .attr('class', 'up_pftv_track');
&nbsp;
<span class="cstat-no" title="statement not covered" >    track.typeLabels = {</span>
        //molecular processing
        chain:'(aka mature region). This describes the extent of a polypeptide chain in the mature protein following' +
            ' processing',
        transit: 'This describes the extent of a transit peptide',
        init_met: "This indicates that the initiator methionine is cleaved from the mature protein",
        propep: 'Part of a protein that is cleaved during maturation or activation',
        peptide:'The position and length of an active peptide in the mature protein',
        signal:'N-terminal signal peptide',
        //structural
        helix:'The positions of experimentally determined helical regions',
        strand:'The positions of experimentally determined beta strands',
        turn:'The positions of experimentally determined hydrogen-bonded turns',
        disulfid:'The positions of cysteine residues participating in disulphide bonds',
        crosslnk:'Covalent linkages of various types formed between two proteins or between two parts of the same' +
            ' protein',
        //domains &amp; sites
        region:'Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g.,' +
        ' protein-protein interactions mediation',
        coiled: 'Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil',
        motif:'Short conserved sequence motif of biological significance',
        repeat:'Repeated sequence motifs or repeated domains within the protein',
        ca_bind:'Calcium-binding regions, such as the EF-hand motif',
        dna_bind: 'DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and' +
            ' the Myb domain',
        domain:'Specific combination of secondary structures organized into a characteristic three-dimensional' +
            ' structure or fold',
        zn_fing: 'Small, functional, independently folded domain that coordinates one or more zinc ions',
        np_bind: '(aka flavin-binding). Region in the protein which binds nucleotide phosphates',
        metal: "Binding site for a metal ion",
        site: "Any interesting single amino acid site on the sequence",
        binding: "Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",
        act_site: "Amino acid(s) directly involved in the activity of an enzyme",
        //ptms
        mod_res: "Modified residues such as phosphorylation, acetylation, acylation, methylation",
        lipid: "Covalently attached lipid group(s)",
        carbohyd: "Covalently attached glycan group(s)",
        //seqInfo
        compbias:'Position of regions of compositional bias within the protein and the particular amino acids that ' +
            'are over-represented within those regions',
        conflict:'Sequence discrepancies of unknown origin',
        non_cons: 'Indicates that two residues in a sequence are not consecutive and that there is an undetermined ' +
            'number of unsequenced residues between them',
        non_ter: 'The sequence is incomplete. The residue is not the terminal residue of the complete protein',
        unsure: 'Regions of a sequence for which the authors are unsure about the sequence assignment',
        non_std: "Non-standard amino acids (selenocysteine and pyrrolysine)",
        //mutagenesis
        mutagen:'Site which has been experimentally altered by mutagenesis',
        //topology
        topo_dom:'Location of non-membrane regions of membrane-spanning proteins',
        transmem:'Extent of a membrane-spanning region',
        intramem:'Extent of a region located in a membrane without crossing it',
        //variants
        variant: 'Natural variant of the protein, including polymorphisms, variations between strains, isolates or ' +
            'cultivars, disease-associated mutations and RNA editing events'
    };
};
&nbsp;
Track.prototype.update = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var track = this;</span>
<span class="cstat-no" title="statement not covered" >    track.trackViewer.update();</span>
};
&nbsp;
var BasicTrackViewer = <span class="fstat-no" title="function not covered" >function(track) {</span>
<span class="cstat-no" title="statement not covered" >    return new BasicViewer(</span>
        track.data, track.trackContainer, track.category.fv
    );
};
&nbsp;
var VariantTrackViewer = <span class="fstat-no" title="function not covered" >function(track) {</span>
<span class="cstat-no" title="statement not covered" >    return new VariantViewer(</span>
        track.data, track.trackContainer, track.category.fv
    );
};
&nbsp;
Track.basic = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var self = this;</span>
<span class="cstat-no" title="statement not covered" >    this.titleContainer.attr('class', 'up_pftv_track-header')</span>
        .attr('title', self.label.toUpperCase() + '\n' + self.typeLabels[self.type.toLowerCase()])
        .text(self.label);
<span class="cstat-no" title="statement not covered" >    this.trackViewer = new BasicTrackViewer(this);</span>
};
&nbsp;
Track.variant = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var self = this;</span>
<span class="cstat-no" title="statement not covered" >    this.titleContainer.classed('up_pftv_track-header-container', true);</span>
<span class="cstat-no" title="statement not covered" >    this.titleContainer.append('div')</span>
        .attr('class', 'up_pftv_track-header')
        .attr('title', self.label + '\n' + self.typeLabels.variant)
        .text(self.label);
<span class="cstat-no" title="statement not covered" >    VariantFilterDialog.displayDialog(self.titleContainer, self.category.fv);</span>
<span class="cstat-no" title="statement not covered" >    LegendFactory.createLegendDialog(self.titleContainer);</span>
<span class="cstat-no" title="statement not covered" >    this.trackViewer = new VariantTrackViewer(this);</span>
};
&nbsp;
var TrackFactory = function() {
    return {
        createTrack: <span class="fstat-no" title="function not covered" >function(typeFeatures, type, category) {</span>
<span class="cstat-no" title="statement not covered" >            var track;</span>
&nbsp;
            // error if the constructor doesn't exist
<span class="cstat-no" title="statement not covered" >            if (typeof Track[type] !== "function") {</span>
<span class="cstat-no" title="statement not covered" >                console.log('WARNING: Track viewer type ' + type + " doesn't exist");</span>
            }
&nbsp;
            //inherit parent constructor
<span class="cstat-no" title="statement not covered" >            Track[type].prototype = new Track(typeFeatures, category, type);</span>
<span class="cstat-no" title="statement not covered" >            track = new Track[type]();</span>
<span class="cstat-no" title="statement not covered" >            return track;</span>
        }
    };
}();
&nbsp;
module.exports = TrackFactory;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Oct 01 2015 11:00:40 GMT+0100 (BST)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
